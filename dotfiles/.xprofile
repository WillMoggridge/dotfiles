source $HOME/.dotfiles/libs/common

# XDG
#export XDG_DATA_DIRS=~/.dotfiles:$XDG_DATA_DIRS

####################
#################### Keyboard
####################

# Correct keyboard layout please
setxkbmap gb

# Use the CAPS-LOCK key as an additional control
setxkbmap -option "ctrl:nocaps"

# Speed up keyboard input
xset r rate 300 100

# Enable X restart with CTRL-ALT-BACKSPACE
setxkbmap -option terminate:ctrl_alt_bksp

# Custom key mappings
if [ -f ~/.Xmodmap ]; then
 xmodmap ~/.Xmodmap
fi


####################
#################### Mouse
####################

# Use a better mouse pointer
xsetroot -cursor_name left_ptr

# Try and get rid of mouse acceleration
#xinput set-prop pointer:"ROCCAT ROCCAT Kone[+]" 'Device Accel Profile' 0
#xinput set-prop pointer:"ROCCAT ROCCAT Kone[+]" 'Device Accel Velocity Scaling' 1

# Mouse sensitivity, not best method
is_env desktop && xset m 1 1
is_env laptop && xset m 2 1



####################
#################### Other
####################

# Set wallpaper (Checking for existence)
if [ -f ~/.wallpaper.png ]
then
   feh --bg-scale ~/.wallpaper.png
elif [ -f ~/.wallpaper.jpg ]
then
   feh --bg-scale ~/.wallpaper.jpg
fi

# Load display settingss
#~/.dotfiles/bin/configure-displays

# Add Gnome Keyring as the SSH auth if we are in i3
if [[ $DESKTOP_SESSION = "i3" ]]; then
    eval $(gnome-keyring-daemon --start)
    export SSH_AUTH_SOCK GPG_AGENT_INFO GNOME_KEYRING_CONTROL GNOME_KEYRING_PID
    export SSH_AGENT_PID=$GNOME_KEYRING_PID
fi
