#!/usr/bin/env bash

# Automatically load aliases from this file

source $HOME/.dotfiles/libs/common

# Call virtualenvwrapper's "workon" if .venv exists.
# http://justinlilly.com/python/virtualenv_wrapper_helper.html
# https://gist.github.com/cjerdonek/7583644
check_virtualenv() {
    if [ -e .venv ]; then
        env=`cat .venv`
        if [ "$env" != "${VIRTUAL_ENV##*/}" ]; then
            echo "Found .venv in directory. Calling: workon ${env}"
            workon $env
        fi
    fi
}
venv_cd () {
    builtin cd "$@" && check_virtualenv
}
# Check new shell instances
check_virtualenv
alias cd="venv_cd"


ack-syn() {
    echo $@
    FILE=$1 && shift
    less $FILE|ack --color -C 3 $@|less
}


# Fix the last command...
if cmd_exists thefuck; then
    eval "$(thefuck --alias fuck)";
    alias ugh='fuck'
    # Colemak homerow spam
    alias arst='fuck'; alias oien='fuck'
    # Qwerty homerow spam
    alias asdf='fuck'; alias lkj='fuck'
fi


alias ack='ack-grep --color'
alias a='autorandr'
alias ara='autorandr'
alias d-c='docker-compose'
alias dropbox-encfs='encfs ~/Dropbox/Sync/Security/encfs ~/Dropbox-encfs'
alias grep='grep --color=always'
alias less='less -R'
alias rm='rm -I'
alias vim=nvim
if cmd_exists hub; then alias git=hub; fi
